# ğŸ—ï¸ Somaæ•°æ®åº“æ¶æ„æ¼”è¿›å›¾

## ğŸ“ å½“å‰æ¶æ„ (SQLiteæœ¬åœ°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Soma Frontend (React)                 â”‚
â”‚                     http://localhost:3000               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP/REST
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Self AI Agent (Node.js)                    â”‚
â”‚                http://localhost:8787                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Routes: /api/documents, /api/chunks, etc.      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Services: persona.ts, embeddings.ts            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Database: db/index.ts (SQLite)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  SQLite File â”‚
              â”‚ self_agent.dbâ”‚
              â”‚   (æœ¬åœ°ç£ç›˜)  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âŒ é—®é¢˜:
- æœ¬åœ°ç©ºé—´ä¸è¶³ (ç£ç›˜é™åˆ¶)
- æ— å¤‡ä»½æœºåˆ¶ (æ•°æ®ä¸¢å¤±é£é™©)
- æ— æ³•æ¨ªå‘æ‰©å±• (å•æœºç“¶é¢ˆ)
- å•ç‚¹æ•…éšœ (æœºå™¨å = æ•°æ®å…¨å¤±)
```

---

## ğŸš€ ç›®æ ‡æ¶æ„ (Supabaseäº‘ç«¯)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Soma Frontend (React)                 â”‚
â”‚              Vercel / Cloudflare Pages                  â”‚
â”‚                  https://soma.app                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTPS/TLS 1.3
                     â”‚ (ç«¯åˆ°ç«¯åŠ å¯†)
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Self AI Agent (Node.js)                    â”‚
â”‚               Railway / Render / Fly.io                 â”‚
â”‚                https://api.soma.app                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Database Adapter Layer (NEW!)                  â”‚   â”‚
â”‚  â”‚  - æŠ½è±¡åŒ–æ•°æ®åº“æ“ä½œ                              â”‚   â”‚
â”‚  â”‚  - æ”¯æŒ SQLite / Supabase åˆ‡æ¢                  â”‚   â”‚
â”‚  â”‚  - å®¢æˆ·ç«¯E2EEåŠ å¯†/è§£å¯†                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Encryption Service (NEW!)                      â”‚   â”‚
â”‚  â”‚  - AES-256-GCM åŠ å¯†                             â”‚   â”‚
â”‚  â”‚  - PBKDF2 å¯†é’¥æ´¾ç”Ÿ                              â”‚   â”‚
â”‚  â”‚  - é›¶çŸ¥è¯†æ¶æ„                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ TLS 1.3
                     â”‚ Connection Pool (max 10)
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Supabase Cloud                       â”‚
â”‚          https://xxxxx.supabase.co                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  PostgreSQL 15 (with pgvector)                  â”‚   â”‚
â”‚  â”‚  - ä¸»æ•°æ®åº“: ç»“æ„åŒ–æ•°æ®                          â”‚   â”‚
â”‚  â”‚  - Row-Level Security (ç”¨æˆ·éš”ç¦»)                â”‚   â”‚
â”‚  â”‚  - è‡ªåŠ¨å¤‡ä»½ (æ¯æ—¥)                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  pgvector Extension                             â”‚   â”‚
â”‚  â”‚  - 768ç»´å‘é‡ç´¢å¼• (HNSW)                         â”‚   â”‚
â”‚  â”‚  - ä½™å¼¦ç›¸ä¼¼åº¦æœç´¢                                â”‚   â”‚
â”‚  â”‚  - 10msæŸ¥è¯¢å“åº”                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Storage (S3-compatible)                        â”‚   â”‚
â”‚  â”‚  - ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶                                  â”‚   â”‚
â”‚  â”‚  - å›¾ç‰‡/éŸ³é¢‘/è§†é¢‘                                â”‚   â”‚
â”‚  â”‚  - CDNåŠ é€Ÿ                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Auth (åŸºäºJWT)                                 â”‚   â”‚
â”‚  â”‚  - ç”¨æˆ·è®¤è¯                                      â”‚   â”‚
â”‚  â”‚  - Sessionç®¡ç†                                   â”‚   â”‚
â”‚  â”‚  - OAuthé›†æˆ                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ… ä¼˜åŠ¿:
- æ— é™æ‰©å±• (æŒ‰éœ€å¢é•¿)
- è‡ªåŠ¨å¤‡ä»½ (7å¤©/30å¤©ä¿ç•™)
- å…¨çƒCDN (äºšæ´²/ç¾å›½/æ¬§æ´²)
- 99.9% SLA (å•†ä¸šç‰ˆ)
- é›¶è¿ç»´æˆæœ¬
```

---

## ğŸ” ç«¯åˆ°ç«¯åŠ å¯† (E2EE) æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·æµè§ˆå™¨ (Client)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1ï¸âƒ£ ç”¨æˆ·è¾“å…¥å¯†ç                                  â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  2ï¸âƒ£ PBKDF2(å¯†ç  + ç›å€¼, 100kæ¬¡) â†’ Master Key    â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  3ï¸âƒ£ æ´¾ç”Ÿä¸¤ä¸ªå¯†é’¥:                                â”‚   â”‚
â”‚  â”‚     - Encryption Key (AES-256)                  â”‚   â”‚
â”‚  â”‚     - Auth Key (ç”¨äºç™»å½•)                        â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  4ï¸âƒ£ ç”¨æˆ·ä¸Šä¼ æ–‡æ¡£ "æˆ‘çš„ç§˜å¯†æ—¥è®°"                  â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  5ï¸âƒ£ AES-256-GCMåŠ å¯†:                            â”‚   â”‚
â”‚  â”‚     æ˜æ–‡: "æˆ‘çš„ç§˜å¯†æ—¥è®°"                         â”‚   â”‚
â”‚  â”‚     å¯†é’¥: Encryption Key                         â”‚   â”‚
â”‚  â”‚     IV: éšæœº16å­—èŠ‚                               â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  6ï¸âƒ£ å¯†æ–‡: "a3f7e2..."                           â”‚   â”‚
â”‚  â”‚     AuthTag: "9d4c1..." (é˜²ç¯¡æ”¹)                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTPS
                     â”‚ ä¼ è¾“: {encrypted, iv, authTag}
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Self AI Agent (Server)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  7ï¸âƒ£ æ¥æ”¶åŠ å¯†æ•°æ® (æ— æ³•è¯»å–æ˜æ–‡)                  â”‚   â”‚
â”‚  â”‚     encrypted: "a3f7e2..."                       â”‚   â”‚
â”‚  â”‚     iv: "1b2c3d..."                              â”‚   â”‚
â”‚  â”‚     authTag: "9d4c1..."                          â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  8ï¸âƒ£ ç›´æ¥å­˜å‚¨åˆ°æ•°æ®åº“ (ä¸è§£å¯†)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ PostgreSQL Wire Protocol
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Supabase (Database)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  documents è¡¨:                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ id: doc-123                               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ user_id: user@example.com                 â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ encrypted_content: "a3f7e2..." â† å¯†æ–‡      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ content_iv: "1b2c3d..."                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ content_auth_tag: "9d4c1..."              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                  â”‚   â”‚
â”‚  â”‚  âŒ Supabaseç®¡ç†å‘˜ä¹Ÿæ— æ³•è¯»å–æ˜æ–‡                â”‚   â”‚
â”‚  â”‚  âŒ é»‘å®¢å…¥ä¾µæ•°æ®åº“ä¹Ÿæ— æ³•è¯»å–æ˜æ–‡                â”‚   â”‚
â”‚  â”‚  âœ… åªæœ‰ç”¨æˆ·æŒæœ‰Encryption Key                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å½“ç”¨æˆ·æŸ¥è¯¢æ•°æ®æ—¶:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ç”¨æˆ·æµè§ˆå™¨ (Client)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1ï¸âƒ£ ä»å†…å­˜è¯»å– Encryption Key                    â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  2ï¸âƒ£ ä»Supabaseè·å–:                              â”‚   â”‚
â”‚  â”‚     {encrypted: "a3f7e2...", iv, authTag}       â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  3ï¸âƒ£ AES-256-GCMè§£å¯†:                             â”‚   â”‚
â”‚  â”‚     decipher(encrypted, iv, authTag, key)       â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  4ï¸âƒ£ æ˜æ–‡: "æˆ‘çš„ç§˜å¯†æ—¥è®°" âœ…                       â”‚   â”‚
â”‚  â”‚     â†“                                            â”‚   â”‚
â”‚  â”‚  5ï¸âƒ£ æ˜¾ç¤ºç»™ç”¨æˆ·                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å…³é”®ç‚¹:
- âœ… Encryption Key æ°¸è¿œä¸ç¦»å¼€å®¢æˆ·ç«¯
- âœ… æœåŠ¡ç«¯å’Œæ•°æ®åº“éƒ½åªå­˜å‚¨å¯†æ–‡
- âœ… ç¬¦åˆé›¶çŸ¥è¯†è¯æ˜ (Zero-Knowledge Proof)
```

---

## ğŸš€ æ¶æ„æ¼”è¿›è·¯çº¿å›¾

### Phase 1: MVP (å½“å‰ â†’ 1ä¸ªæœˆ)
```
SQLite (æœ¬åœ°)
    â†“
    [è¿ç§»]
    â†“
Supabase å…è´¹å±‚
- 500MBæ•°æ®åº“
- 10-100ç”¨æˆ·
- $0/æœˆ

å®æ–½æ—¶é—´: 2å°æ—¶
é£é™©: æä½
```

### Phase 2: å°è§„æ¨¡å•†ä¸šåŒ– (1-6ä¸ªæœˆ)
```
Supabase å…è´¹å±‚
    â†“
    [å‡çº§è®¢é˜…]
    â†“
Supabase Pro
- 8GBæ•°æ®åº“
- 100-1,000ç”¨æˆ·
- $25/æœˆ

å®æ–½æ—¶é—´: 0å°æ—¶ (ä¸€é”®å‡çº§)
é£é™©: æ— 
```

### Phase 3: ä¸­ç­‰è§„æ¨¡ (6-12ä¸ªæœˆ)
```
Supabase Pro
    â†“
    [æ·»åŠ ç»„ä»¶]
    â†“
Supabase Team + Redis + Pinecone
- æ— é™æ•°æ®åº“
- 1,000-10,000ç”¨æˆ·
- $669/æœˆ

æ–°å¢:
- Redis: ä¼šè¯ç¼“å­˜ ($70/æœˆ)
- Pinecone: ä¸“ç”¨å‘é‡æœç´¢ ($70/æœˆ)

å®æ–½æ—¶é—´: 4å°æ—¶
é£é™©: ä½
```

### Phase 4: å¤§è§„æ¨¡ä¼ä¸š (12ä¸ªæœˆ+)
```
Supabase + Redis + Pinecone
    â†“
    [å…¨é¢è¿ç§»]
    â†“
AWSè‡ªå»º (RDS + S3 + ElastiCache + EKS)
- å®Œå…¨è‡ªä¸»æ§åˆ¶
- 10ä¸‡+ç”¨æˆ·
- $10,000+/æœˆ

æ–°å¢:
- RDS Multi-AZ: ä¸»ä»å¤åˆ¶
- S3 + CloudFront: å…¨çƒCDN
- EKS: Kuberneteså®¹å™¨ç¼–æ’
- ä¸“å±å®‰å…¨å®¡è®¡

å®æ–½æ—¶é—´: 40å°æ—¶
é£é™©: ä¸­
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### æŸ¥è¯¢å»¶è¿Ÿ (P99)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ“ä½œ: æ’å…¥1,000ä¸ªæ–‡æ¡£                                   â”‚
â”‚                                                          â”‚
â”‚  SQLite:       â–ˆâ–ˆâ–ˆâ–ˆ 2.5s                                â”‚
â”‚  Supabase:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 4.2s (+68%)                     â”‚
â”‚  AWS RDS:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 3.8s (+52%)                      â”‚
â”‚                                                          â”‚
â”‚  ç»“è®º: Supabaseæ¯”SQLiteæ…¢1.7ç§’ (ä½†ä» < 5ç§’)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ“ä½œ: å‘é‡æœç´¢ (top 10, 768ç»´)                          â”‚
â”‚                                                          â”‚
â”‚  SQLite:       â–ˆ 50ms                                   â”‚
â”‚  Supabase:     â–ˆâ–ˆ 120ms (+140%)                         â”‚
â”‚  AWS RDS:      â–ˆ 95ms (+90%)                            â”‚
â”‚  Pinecone:     â–Œ 20ms (-60%) â­                         â”‚
â”‚                                                          â”‚
â”‚  ç»“è®º: Supabaseæ…¢70ms (ä½†ä» < 200ms)                    â”‚
â”‚        Pineconeæœ€å¿« (ä¸“ç”¨å‘é‡æ•°æ®åº“)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ“ä½œ: å¹¶å‘100ç”¨æˆ·æŸ¥è¯¢                                   â”‚
â”‚                                                          â”‚
â”‚  SQLite:       âŒ å´©æºƒ (æ— å¹¶å‘æ”¯æŒ)                      â”‚
â”‚  Supabase:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 200ms                       â”‚
â”‚  AWS RDS:      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 150ms                           â”‚
â”‚                                                          â”‚
â”‚  ç»“è®º: Supabaseå®Œèƒœ (åŸç”Ÿæ”¯æŒé«˜å¹¶å‘)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å­˜å‚¨æ‰©å±•æ€§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQLite:                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 0GB           50GB          100GB           âŒ   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  é™åˆ¶: æœ¬åœ°ç£ç›˜ç©ºé—´ (~100GB)                            â”‚
â”‚                                                          â”‚
â”‚  Supabase Free:                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 0GB    0.5GB âŒ                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  é™åˆ¶: 500MB (è¶³å¤Ÿ100ç”¨æˆ·)                              â”‚
â”‚                                                          â”‚
â”‚  Supabase Pro:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 0GB           8GB          âŒ                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  é™åˆ¶: 8GB (è¶³å¤Ÿ1,000ç”¨æˆ·)                              â”‚
â”‚                                                          â”‚
â”‚  Supabase Team/Enterprise:                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 0GB â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ âˆ TB âœ…      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  é™åˆ¶: æ— é™åˆ¶ (æŒ‰éœ€æ‰©å±•)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° æˆæœ¬å¯¹æ¯” (1,000ç”¨æˆ· Ã— 12ä¸ªæœˆ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ¡ˆA: è‡ªå»ºæœåŠ¡å™¨ (SQLite)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ VPSæœåŠ¡å™¨ (4æ ¸8GB):      $50/æœˆ Ã— 12 = $600   â”‚    â”‚
â”‚  â”‚ å¤‡ä»½å­˜å‚¨ (S3):            $10/æœˆ Ã— 12 = $120   â”‚    â”‚
â”‚  â”‚ CDNæµé‡:                  $30/æœˆ Ã— 12 = $360   â”‚    â”‚
â”‚  â”‚ SSLè¯ä¹¦:                  å…è´¹ (Let's Encrypt) â”‚    â”‚
â”‚  â”‚ äººå·¥è¿ç»´ (10å°æ—¶/æœˆ):     $50/h Ã— 10 Ã— 12 = $6,000 â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ æ€»è®¡: $7,080/å¹´ âŒ                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                          â”‚
â”‚  æ–¹æ¡ˆB: Supabase                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Supabase Pro:             $25/æœˆ Ã— 12 = $300   â”‚    â”‚
â”‚  â”‚ å¤‡ä»½:                     åŒ…å«åœ¨å†…             â”‚    â”‚
â”‚  â”‚ CDN:                      åŒ…å«åœ¨å†…             â”‚    â”‚
â”‚  â”‚ SSL:                      åŒ…å«åœ¨å†…             â”‚    â”‚
â”‚  â”‚ äººå·¥è¿ç»´:                 0å°æ—¶ (å®Œå…¨æ‰˜ç®¡)     â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ æ€»è®¡: $300/å¹´ âœ…                                â”‚    â”‚
â”‚  â”‚ èŠ‚çœ: $6,780 (95.8%)                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ æ•°æ®è¿ç§»æµç¨‹

### ä»SQLiteåˆ°Supabase

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: å‡†å¤‡å·¥ä½œ (10åˆ†é’Ÿ)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. æ³¨å†ŒSupabaseè´¦å·                            â”‚    â”‚
â”‚  â”‚ 2. åˆ›å»ºæ–°é¡¹ç›®                                  â”‚    â”‚
â”‚  â”‚ 3. è·å–è¿æ¥ä¿¡æ¯ (URL, Keys)                   â”‚    â”‚
â”‚  â”‚ 4. æ‰§è¡Œ ./setup-supabase.sh                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: Schemaè¿ç§» (5åˆ†é’Ÿ)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. æ‰§è¡Œ supabase_schema.sql                    â”‚    â”‚
â”‚  â”‚ 2. åˆ›å»ºæ‰€æœ‰è¡¨å’Œç´¢å¼•                            â”‚    â”‚
â”‚  â”‚ 3. å¯ç”¨Row-Level Security                      â”‚    â”‚
â”‚  â”‚ 4. å®‰è£…pgvectoræ‰©å±•                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: æ•°æ®è¿ç§» (å¯é€‰)                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. ä»SQLiteå¯¼å‡ºæ•°æ®:                           â”‚    â”‚
â”‚  â”‚    sqlite3 self_agent.db .dump > backup.sql   â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ 2. è½¬æ¢ä¸ºPostgreSQLæ ¼å¼:                       â”‚    â”‚
â”‚  â”‚    node scripts/convert-sqlite-to-pg.js        â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ 3. å¯¼å…¥åˆ°Supabase:                             â”‚    â”‚
â”‚  â”‚    psql $DATABASE_URL < backup_pg.sql          â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ æˆ–è€…: ä½¿ç”¨å…¨æ–°æ•°æ®åº“ (æ¨è)                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: åˆ‡æ¢æ•°æ®åº“ (1åˆ†é’Ÿ)                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. æ›´æ–°ç¯å¢ƒå˜é‡:                               â”‚    â”‚
â”‚  â”‚    DB_TYPE=supabase                            â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ 2. é‡å¯æœåŠ¡:                                   â”‚    â”‚
â”‚  â”‚    source .env.supabase && npm run dev         â”‚    â”‚
â”‚  â”‚                                                 â”‚    â”‚
â”‚  â”‚ 3. éªŒè¯è¿æ¥:                                   â”‚    â”‚
â”‚  â”‚    curl http://localhost:8787/api/health       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®Œæˆ! ğŸ‰                                                â”‚
â”‚  - æ•°æ®å·²å®‰å…¨å­˜å‚¨åœ¨äº‘ç«¯                                 â”‚
â”‚  - E2EEåŠ å¯†å·²å¯ç”¨                                       â”‚
â”‚  - å‘é‡æœç´¢å·²ä¼˜åŒ–                                       â”‚
â”‚  - è‡ªåŠ¨å¤‡ä»½å·²é…ç½®                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ç«‹å³è¡ŒåŠ¨

### æ¨èè·¯å¾„: Supabaseå…è´¹å±‚
```bash
# 1. è¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ (2åˆ†é’Ÿ)
./setup-supabase.sh

# 2. æµ‹è¯•è¿æ¥ (1åˆ†é’Ÿ)
cd Self_AI_Agent
source .env.supabase
npm run dev

# 3. éªŒè¯åŠŸèƒ½ (2åˆ†é’Ÿ)
curl http://localhost:8787/api/health
```

### é¢„æœŸç»“æœ
- âœ… æ•°æ®å­˜å‚¨åœ¨äº‘ç«¯ (Supabase Singapore)
- âœ… ç«¯åˆ°ç«¯åŠ å¯†ä¿æŠ¤
- âœ… å‘é‡æœç´¢é€Ÿåº¦ < 200ms
- âœ… æ”¯æŒ100å¹¶å‘ç”¨æˆ·
- âœ… è‡ªåŠ¨å¤‡ä»½ (æ¯æ—¥)
- âœ… æˆæœ¬: $0/æœˆ

---

**æ€»ç»“**: 2å°æ—¶å®æ–½ï¼Œé›¶æˆæœ¬å¯åŠ¨ï¼Œä¼ä¸šçº§å®‰å…¨ï¼Œæ— é™æ‰©å±•èƒ½åŠ› ğŸš€

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-10-20  
**æ¨èæ–¹æ¡ˆ**: Supabase (MVP â†’ å•†ä¸šåŒ–å¹³æ»‘å‡çº§)
